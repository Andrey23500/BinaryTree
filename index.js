import{Tree}from"./tree.js";var NODE_RADIUS=20,HORIZONTAL_SPACING=50,VERTICAL_SPACING=80,FONT_SIZE=14,HIGHLIGHT_COLOR="#4cc9f0",NODE_COLOR="#4361ee",LINE_COLOR="#3a56d4",TEXT_COLOR="#ffffff",BG_COLOR="#f8f9fa";function initializeCanvas(){var t=document.getElementById("drawing");if(!t)throw new Error("Canvas element not found");function e(){var e=t.parentElement;e&&(t.width=e.clientWidth-40,t.height=Math.max(500,.7*window.innerHeight))}return e(),window.addEventListener("resize",e),t}function draw(e,t){var n=initializeCanvas(),d=n.getContext("2d");d&&(d.clearRect(0,0,n.width,n.height),d.fillStyle=BG_COLOR,d.fillRect(0,0,n.width,n.height),e.root&&(calculateTreeWidth(e.root),n=n.width/2,drawNode(e.root,n,VERTICAL_SPACING/2,d,t)))}function calculateTreeWidth(e){return e?calculateTreeWidth(e.left)+HORIZONTAL_SPACING+calculateTreeWidth(e.right):0}function drawNode(e,t,n,d,l,r){void 0===r&&(r=1);var i,a,o=HORIZONTAL_SPACING*(1/Math.sqrt(r));e.left&&(drawLine(d,t,n,i=t-o,a=n+VERTICAL_SPACING),drawNode(e.left,i,a,d,l,r+1)),e.right&&(drawLine(d,t,n,a=t+o,o=n+VERTICAL_SPACING),drawNode(e.right,a,o,d,l,r+1)),d.beginPath(),d.arc(t,n,NODE_RADIUS,0,2*Math.PI),void 0!==l&&e.key===l?(d.fillStyle=HIGHLIGHT_COLOR,d.strokeStyle=HIGHLIGHT_COLOR):(d.fillStyle=NODE_COLOR,d.strokeStyle=NODE_COLOR),d.fill(),d.stroke(),d.fillStyle=TEXT_COLOR,d.font=FONT_SIZE+"px Arial",d.textAlign="center",d.textBaseline="middle",d.fillText(String(e.key),t,n)}function drawLine(e,t,n,d,l){e.beginPath(),e.moveTo(t,n+NODE_RADIUS),e.lineTo(d,l-NODE_RADIUS),e.strokeStyle=LINE_COLOR,e.lineWidth=2,e.stroke()}var myTree=new Tree,btnAdd=document.getElementById("add-to-tree"),btnDel=document.getElementById("delete-to-tree"),btnFind=document.getElementById("find-to-tree");function addToTree(){var e=document.getElementById("tree-input");null!=e&&e.value&&(myTree.addNode(parseInt(e.value,10),0),draw(myTree),e.value="")}function delToTree(){var e=document.getElementById("tree-delete");null!=e&&e.value&&(myTree.deleteItem(parseInt(e.value,10)),draw(myTree),e.value="")}function findToTree(){var e=document.getElementById("tree-find");if(null!=e&&e.value){for(var t=document.getElementById("info");null!=t&&t.firstChild;)t.removeChild(t.firstChild);var n,d=myTree.findByKey(parseInt(e.value,10));draw(myTree,null==d?void 0:d.key),d&&t&&(n=document.createElement("p"),e=document.createElement("p"),n.textContent="Key: "+d.key,e.textContent="Value: "+d.value,t.append(n,e))}}null!=btnAdd&&btnAdd.addEventListener("click",addToTree),null!=btnDel&&btnDel.addEventListener("click",delToTree),null!=btnFind&&btnFind.addEventListener("click",findToTree);